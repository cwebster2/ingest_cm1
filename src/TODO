migrate select(dtype) to select type on the cm1_ derived types
get rid of dtype variable

